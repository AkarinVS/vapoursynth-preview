# Предисловие
Этот документ был написан перед тем, как начать разработку. Сейчас он лишь частично отражает как реализованный функционал, так и планы на будущее.

# Концепция
Как у предпросмотра VapourSynth Editor, но без верхней строки меню.
Элементы интерфейса сгруппированы по функционалу. Группы с дополнительным функционалом можно скрывать. (Точно так же это сделано в VapourSynth Editor)
Все действия в превью можно будет делать мышкой. На любое действие можно повесить сочетание клавиш.

# Элементы интерфейса (обязательные)
    + Текущий кадр (поле)
        + Скопировать номер текущего кадра в буфер обмена
    + Текущее время (поле)
        + Скопировать время текущего кадра в буфер обмена
    + Полоса прокрутки (дизайн как в vsedit):
        + Текущее положение
    + Управление воспроизведением (группа кнопок):
        + Запустить/поставить на паузу
        + Предыдущий/следующий кадр
    + Cтатус (скрипт обрабатывается/готово)
    - Настройки (кнопка, модальное окно)
    + Перезагрузить скрипт (кнопка)    

# Элементы интерфейса (полезные)
    Приоритетные:
    ? Поверх всех окон (флаг)
    - Текущий кадр/обрезка (группа кнопок):
        - Сохранить в файл (текущий вывод/все выводы)
        - Сохранить в файл с выбором пути
        - Скопировать в буфер обмена
        - Загрузить на slowpics (текущий вывод/все выводы) (нужно обсудить со Slow Poke)
    + Управление воспроизведением (группа кнопок):
        + Прыгнуть назад/вперед на N кадров
        + Длина прыжка
        + Скорость (поля «К/с», «Множитель», флаг «Не ограничивать»)
    + Сценинг:
        - Получать и парсить строку-шаблон через параметры запуска
        + Задать начальный кадр
        + Задать конечный кадр
        + Скопировать готовую строку в буфер обмена
        - Отмечать на таймлайне выбранные кадры
    - Полоса прокрутки (дизайн как в vsedit):
        - Линейка с номерами кадров/временем (переключаемо)
        + Закладки (название в статусной строке)
    + Переключение каналов вывода:
        + Поле с номерами выводов и стрелками
        - Связывание (по времени) (флаг)       

    Неприоритетные:
    - Масштаб (выпадающий список):
        + 1:1 (по умолчанию)
        - Вписать в окно
        - Подогнать окно 
        + Пользовательский (поле)
    - Обрезка (группа полей):
        - Отступы слева/сверху/справа/снизу (отступы справа и снизу синхронизируются с шириной и высотой) (расположить по знаку «-»)
        - Ширина/высота (синхронизируются с отступами справа и снизу)
        - Скопировать параметры обрезки в буфер обмена как строку скрипта
        - Затемнять обрезанные области
        - Задание обрезки выделением области экрана
        - Режим обрезки (относительный/абсолютный)
    - Управление закладками (группа кнопок):
        + Добавить/убрать закладку на текущем кадре
        - Добавить именованную закладку
        + Перейти к предыдущей/следующей закладке
        + Сохранить/загрузить закладки, в том числе из файла с главами
        - Окно со списком закладок
    - Строка статуса (для текущего канала вывода) (текст):
        - Левый край:
            - Пипетка координат пикселя (обновляется в реальном времени)
            - Пипетка YUV и RGB (обновляется в реальном времени)
        + Правый край:
            + Общее кол-во кадров
            + Полная длина
            + Разрешение кадра
            + Кадры в секунду
            + Формат пикселя    

# Элементы интерфейса (бесполезные)  
    - Информация о видео (кнопка, всплывающее окно)
    - Калькулятор размеров
        - Учет требований фильтров

# Настройки (в отдельном окне)
    * Горячие клавиши
    - Настройки ресайза
    - Выключение пипеток (группа флагов)
    - Настройка снимков экрана:
            + Формат и настройки сжатия
            + Путь
            - slowpics: открыть в браузере (флаг)
            - slowpics: cкопировать ссылку в буфер обмена (флаг)
    - Отключение кнопок, которые открывают панели (группа флагов)
    - Перезагружать скрипт автоматически (флаг)

# Сложное
    + Запоминать текущий кадр между запусками превью
    - Внесение изменений в скрипт (программно)
        + Вставка номера кадра по горячей клавише
            + Легко сделать через буфер обмена
            + Для сценинга предусмотрен отдельный более удобный механизм (тоже через буфер обмена)

# Расширение VS Code
    - Предпросмотр текущего скрипта
    - Ассоциация .vpy с Python
    - Предпросмотр любого .vpy через контекстное меню
    - Удобный механизм получения консольного вывода превью
    - Хранение настроек пользователя
    + Сохранение настроек рядом со скриптом
    - Доработка встроенного автозавершения для поддержки динамически получаемого ядра vapoursynth (если возможно)

# Публикация
    - После реализации обязательного функционала
    + Придумать название
    - PyPI
    - Visual Studio Marketplace        
